(function a(b,c,d,e,f){var g={},h=b.eval,i=b.document,j=function(a,c){var f={exports:{}};return g[a]=1,d[a]=f.exports,c?typeof c=="function"&&(c=c(e[a]?null:k,f.exports,f)||f.exports):c=b[a],d[a]=c},k=function(a){var b=d[a];return g[a]&&b?b:(/^\(function\(/.test(b)&&(b="(function(){return"+b+"})()",b=h(b)),j(a,b))},l={exports:{}};for(var m in d)g[m]=0;k.async=function(a,c){var e=d[a],f=b.XMLHttpRequest||b.ActiveXObject;if(e){c(g[a]?e:k(a));return}var i=new f("Microsoft.XMLHTTP");i.onreadystatechange=function(){i.readyState==4&&(i.status<201?(e=i.responseText,/script$|json$/.test(i.getResponseHeader("content-type"))&&(e="(function(){return"+e+"})()",e=h("("+e+")")),c(j(a,e))):c())},i.open("get",a),i.send()},k.js=function(a,c){var e=d[a],f="readyState",h=1,l;if(e){c(g[a]?e:k(a));return}if(!i){c(e);return}var m=i.createElement("script");b.setTimeout(m.onreadystatechange=m.onload=function(d){d=d||b.event,h&&(!d||!m[f]||m[f]=="loaded"||m[f]=="complete")&&(h=0,c(d?j(a,m):l.removeChild(m)&&void 0))},3e3),m.src=a,l=i.getElementsByTagName("head")[0],l.insertBefore(m,l.firstChild)},k.css=function(a,c){var e=d[a],f=1,h;if(e||!i){c(g[a]?e:k(a));return}var l=i.createElement("link"),m=+(new b.Date),n=function(b,d){f&&(f=0,l.removeAttribute("id"),c(b?j(a,l):h.removeChild(l)&&d))};l.href=a,l.rel="stylesheet",l.id=m,b.setTimeout(n,3e3),h=i.getElementsByTagName("head")[0],h.insertBefore(l,h.firstChild),function o(){if(f)try{var a=i.styleSheets;for(var c=0,d=a.length;c<d;c++)if((a[c].ownerNode||a[c].owningElement).id==m&&(a[c].cssRules||a[c].rules).length)return n(1);throw 1}catch(e){b.setTimeout(o,90)}}()},b.localStorage&&f&&function(){try{b.localStorage.lmd=b.JSON.stringify({version:f,modules:d,main:"("+c+")",lmd:"("+a+")",sandboxed:e})}catch(g){}}(),c(k,l.exports,l)})(this,function(b){var c=b("i18n"),d=c.hello+", lmd",e,f,g,h,i,j,k;typeof window!="undefined"?(f=b("depA"),k=b("depB"),g=b("Worker"),i=b("config"),j=b("template"),e=b("$"),e(function(){b.async("./modules/templates/async_template.html",function(a){e("#log").html(typeof a!="undefined"?a.replace("${content}",j.replace("${content}",k(d))):j.replace("${content}",k(d)))}),b.js("./vendors/jquery.someplugin.js",function(a){typeof a!="undefined"?f(e.somePlugin()):f("fail to load: ./vendors/jquery.someplugin.js")}),b.css("./css/b-template.css",function(a){typeof a!="undefined"?f("CSS - OK!"):f("fail to load: ./css/b-template.css")})}),g&&(h=new g(i.worker),h.addEventListener("message",function(a){f("Received some data from worker: "+a.data)},!1))):f=b("workerDepA"),f(d)},{depA:'(function(a){var b=a("depB");return function(a){console.log(b(a))}})',template:'<i class="b-template">${content}</i>',depB:'(function(a,b,c){c.exports=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}})',workerDepA:'(function(a){var b=a("depB"),c=a("postMessage");return function(a){c(b(a))}})',i18n:{hello:"Привет"},config:{worker:"./out/index.production.lmd.js"}},{depB:!0},"1.6.3-1")