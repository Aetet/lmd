(function a(b,c,d,e,f){var g={},h=b.eval,i=b.document,j,k=function(a,c){var f={exports:{}};return g[a]=1,d[a]=f.exports,c?typeof c=="function"&&(c=c(e[a]?j:l,f.exports,f)||f.exports):c=b[a],d[a]=c},l=function(a){var b=d[a];return g[a]&&b?b:(/^\(function\(/.test(b)&&(b="(function(){return"+b+"})()",b=h(b)),k(a,b))},m={exports:{}};for(var n in d)g[n]=0;l.async=function(a,c){c=c||function(){};var e=d[a],f=b.XMLHttpRequest||b.ActiveXObject;if(e)return c(g[a]?e:l(a)),l;var i=new f("Microsoft.XMLHTTP");return i.onreadystatechange=function(){i.readyState==4&&(i.status<201?(e=i.responseText,/script$|json$/.test(i.getResponseHeader("content-type"))&&(e="(function(){return"+e+"})()",e=h("("+e+")")),c(k(a,e))):c())},i.open("get",a),i.send(),l},l.js=function(a,c){c=c||function(){};var e=d[a],f="readyState",h=1,m;if(e)return c(g[a]?e:l(a)),l;if(!i)return c(e),l;var n=i.createElement("script");return b.setTimeout(n.onreadystatechange=n.onload=function(d){d=d||b.event,h&&(!d||!n[f]||n[f]=="loaded"||n[f]=="complete")&&(h=0,c(d?k(a,n):m.removeChild(n)&&j))},3e3,0),n.src=a,m=i.getElementsByTagName("head")[0],m.insertBefore(n,m.firstChild),l},l.css=function(a,c){c=c||function(){};var e=d[a],f=1,h;if(e||!i)return c(g[a]?e:l(a)),l;var m=i.createElement("link"),n=+(new b.Date),o=function(b){f&&(f=0,m.removeAttribute("id"),c(b?k(a,m):h.removeChild(m)&&j))};return m.href=a,m.rel="stylesheet",m.id=n,b.setTimeout(o,3e3,0),h=i.getElementsByTagName("head")[0],h.insertBefore(m,h.firstChild),function p(){if(f)try{var a=i.styleSheets;for(var c=0,d=a.length;c<d;c++)if((a[c].ownerNode||a[c].owningElement).id==n&&(a[c].cssRules||a[c].rules).length)return o(1);throw 1}catch(e){b.setTimeout(p,90)}}(),l},b.localStorage&&f&&function(){try{b.localStorage.lmd=b.JSON.stringify({version:f,modules:d,main:"("+c+")",lmd:"("+a+")",sandboxed:e})}catch(g){}}(),c(l,m.exports,m)})(this,function(b){var c=b("i18n"),d=c.hello+", lmd",e,f,g,h,i,j,k;typeof window!="undefined"?(f=b("depA"),k=b("depB"),g=b("Worker"),i=b("config"),j=b("template"),e=b("$"),e(function(){b.async("./modules/templates/async_template.html",function(a){e("#log").html(typeof a!="undefined"?a.replace("${content}",j.replace("${content}",k(d))):j.replace("${content}",k(d)))}),b.js("./vendors/jquery.someplugin.js",function(a){typeof a!="undefined"?f(e.somePlugin()):f("fail to load: ./vendors/jquery.someplugin.js")}),b.css("./css/b-template.css",function(a){typeof a!="undefined"?f("CSS - OK!"):f("fail to load: ./css/b-template.css")})}),g&&(h=new g(i.worker),h.addEventListener("message",function(a){f("Received some data from worker: "+a.data)},!1))):f=b("workerDepA"),f(d)},{depA:'(function(a){var b=a("depB");return function(a){console.log(b(a))}})',template:'<i class="b-template">${content}</i>',depB:'(function(a,b,c){c.exports=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}})',workerDepA:'(function(a){var b=a("depB"),c=a("postMessage");return function(a){c(b(a))}})',i18n:{hello:"Привет"},config:{worker:"./out/index.production.lmd.js"}},{depB:!0},"1.6.3-1")